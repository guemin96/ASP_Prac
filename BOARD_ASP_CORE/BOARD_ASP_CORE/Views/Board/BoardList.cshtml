@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@using System.Data
@{
    var dtList = Model.Tables[0];

    var startPage = ViewBag.StartPage;
    var endPage = ViewBag.EndPage;
    var totalPage = ViewBag.TotalPage;
    var page = ViewBag.Page;


}

<head>
    <style>
        table{
            width : 100%
        }
        
        th{
            text-align:center
        }
        td{
            text-align:center
        }
        .out{
            width: 100%;
            text-align: center;
        }
        .in{
            display: inline-block;
            text-align: center;
        }
        
    </style>
</head>
<body>
    <div class ="container col-xxl-8 px-4 py-5">
        <h2>게시판</h2>

    </div>
    <table border="1">
        <thead>
            <tr>
                <th>ID</th>
                <th>제목</th>
                <th>조회수</th>
                <th>작성일</th>
            </tr>
        </thead>
        <tbody>
            @foreach (DataRow item in dtList.Rows) {
                <tr>
                    <td>@item["Id"]</td>
                    <td width="50%"><a href="@Url.Action("BoardDetail","Board", new {num=item["Id"]})">@item["Title"]</a></td>
                    <td>@item["ReadCount"]</td>
                    <td>@item["PostDate"]</td>
                </tr>
            }
        </tbody>
    </table>
    
    <div style="text-align:right;">
        <form asp-controller="Board" asp-action="CreateBoard" method="get">
            <button type="submit" >글쓰기</button>

        </form>
    </div>
    <div class="out" >
        <div class="in">
            <div>
                @if (startPage > 1) {
                    <a href="?page=1">[처음 페이지]</a>
                }
                @if (page > 1) {
                    <a href="?page=@(page-1)">[이전 페이지]</a>
                }
                @for (int icount = startPage; icount <= endPage; icount++) {
                    if (icount == page) {
                        <a href="?page=@icount" style="color:red;">@icount</a>
                    }
                    else {
                        <a href="?page=@icount">@icount</a>
                    }
                }
                @if (page < totalPage) {
                    <a href="?page=@(page+1)">[다음 페이지]</a>
                }
                @if (endPage < totalPage) {
                    <a href="?page=@totalPage">[마지막 페이지]</a>
                }
            </div>
        </div>
    </div>
   
</body>